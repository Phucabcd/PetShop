<style>
    input[type="file"] {
        width: 85px;
        overflow: hidden;
        cursor: pointer;
    }
</style>
<!-- Modal -->
<div class="modal fade" id="editPetModal" tabindex="-1" aria-labelledby="editPetModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-color">
                <h5 class="modal-title" id="editPetModalLabel">Chỉnh sửa thú cưng</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form name="editPetForm">
                    <div class="row">
                        <!-- Cột 1 -->
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="petId">Nhập ID thú cưng</label>
                                <input disabled ng-model="selectedPet.petID" type="text" class="form-control" id="petId"
                                       name="petID" placeholder="Id thú cưng"
                                       required ng-minlength="10" ng-maxlength="20">
                                <span ng-show="editPetForm.petID.$touched && editPetForm.petID.$invalid"
                                      class="text-danger fst-italic">
                                    Vui lòng nhập ID thú cưng (từ 10 đến 20 ký tự).
                                </span>
                            </div>
                            <div class="mb-3">
                                <label for="breed">Chọn giống thú cưng:</label>
                                <input ng-model="selectedPet.breed" type="text" class="form-control" id="breed"
                                       placeholder="Giống" name="breed" required ng-minlength="3" ng-maxlength="50">
                                <span ng-show="editPetForm.breed.$touched && editPetForm.breed.$invalid"
                                      class="text-danger fst-italic">
                                    Vui lòng nhập giống thú cưng (từ 3 đến 50 ký tự).
                                </span>
                            </div>
                            <div class="mb-3">
                                <label for="age">Độ tuổi:</label>
                                <input ng-model="selectedPet.age" type="number" class="form-control" id="age"
                                       placeholder="Độ tuổi" name="age" required min="0" max="30">
                                <span ng-show="editPetForm.age.$touched && editPetForm.age.$invalid"
                                      class="text-danger fst-italic">
                                    Vui lòng nhập độ tuổi (từ 0 đến 30).
                                </span>
                            </div>
                            <div class="mb-3">
                                <label for="hair">Kiểu lông:</label>
                                <input ng-model="selectedPet.hair" type="text" class="form-control" id="hair"
                                       placeholder="Kiểu lông" name="hair" required ng-minlength="3" ng-maxlength="50">
                                <span ng-show="editPetForm.hair.$touched && editPetForm.hair.$invalid"
                                      class="text-danger fst-italic">
                                    Vui lòng nhập kiểu lông (từ 3 đến 50 ký tự).
                                </span>
                            </div>
                            <div class="mb-3">
                                <label for="petdes">Thông tin chi tiết:</label>
                                <textarea ng-model="selectedPet.petDescription" class="form-control"
                                          placeholder="Thông tin chi tiết" id="petdes" name="petdes"
                                          required ng-minlength="10" ng-maxlength="255" style="height: 150px;">
                                </textarea>
                                <span ng-show="editPetForm.petdes.$touched && editPetForm.petdes.$invalid"
                                      class="text-danger fst-italic">
                                    Vui lòng nhập thông tin chi tiết (từ 10 đến 255 ký tự).
                                </span>
                            </div>
                        </div>
                        <!-- Cột 2 -->
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="famous">Màu lông:</label>
                                <input ng-model="selectedPet.famous" type="text" class="form-control" id="famous"
                                       placeholder="Màu lông" name="famous" required ng-minlength="3" ng-maxlength="50">
                                <span ng-show="editPetForm.famous.$touched && editPetForm.famous.$invalid"
                                      class="text-danger fst-italic">
                                    Vui lòng nhập màu lông (từ 3 đến 50 ký tự).
                                </span>
                            </div>
                            <div class="mb-3">
                                <label for="petCategory" class="form-label">Chọn loài:</label>
                                <div class="d-flex align-items-center">
                                    <select name="petCategory" class="form-select w-75" id="petCategory"
                                            ng-model="selectedPet.petCategoryID.id"
                                            placeholder="Chọn loài..." required>
                                        <option ng-repeat="pc in petCategoryData" ng-value="pc.id">
                                            {{pc.petCategoryName}}
                                        </option>
                                    </select>
                                    <span ng-show="editPetForm.petCategory.$touched && editPetForm.petCategory.$invalid"
                                          class="text-danger fst-italic">
                                    Vui lòng chọn loài.
                                    </span>
                                    <a href="/quan-tri-he-thong/pet-category" type="button" class="btn btn-primary">Thêm
                                        loài <i class="fa-solid fa-plus"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label>Giới tính</label>
                                <div class="form-check form-check-inline">
                                    <input ng-checked="selectedPet.gender == true" ng-model="selectedPet.gender"
                                           class="form-check-input" type="radio" id="male" value="true">
                                    <label class="form-check-label" for="male">Đực</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input ng-checked="selectedPet.gender == false" ng-model="selectedPet.gender"
                                           class="form-check-input" type="radio" id="female" value="false">
                                    <label class="form-check-label" for="female">Cái</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label>Trạng thái</label>
                                <div class="form-check form-check-inline">
                                    <input ng-checked="selectedPet.available == false" ng-model="selectedPet.available"
                                           class="form-check-input" type="radio" id="daban" value="false">
                                    <label class="form-check-label" for="daban">Đã bán</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input ng-checked="selectedPet.available == true" ng-model="selectedPet.available"
                                           class="form-check-input" type="radio" id="chban" value="true">
                                    <label class="form-check-label" for="chban">Chưa bán</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label>Ẩn/Hiện</label>
                                <div class="form-check form-check-inline">
                                    <input ng-checked="selectedPet.enable == false" ng-model="selectedPet.enable"
                                           class="form-check-input" type="radio" id="an" value="false">
                                    <label class="form-check-label" for="an">Ẩn</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input ng-checked="selectedPet.enable == true" ng-model="selectedPet.enable"
                                           class="form-check-input" type="radio" id="hien" value="true">
                                    <label class="form-check-label" for="hien">Hiện</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="price">Giá:</label>
                                <input ng-model="selectedPet.price" type="number" class="form-control" id="price"
                                       placeholder="Giá" name="price" required min="10000" max="99999999">
                                <span ng-show="editPetForm.price.$touched && editPetForm.price.$invalid"
                                      class="text-danger fst-italic">
                                    Vui lòng nhập giá (từ 10,000 đến 99,999,999).
                                </span>
                            </div>
                            <div class="mb-3>">
                                <label for="photo" class="me-2">Chọn ảnh thú cưng:</label>
                                <div class=" d-flex align-items-center">
                                    <input ng-model="selectedPet.photo" type="text" class="form-control me-2 w-75"
                                           id="photo"
                                           placeholder="Hình ảnh" name="photo" required>
                                    <input type="file" id="fileInput" accept="image/*"
                                           onchange="angular.element(this).scope().updatePhotoPetName(this)">
                                </div>
                                <span ng-show="editPetForm.photo.$touched && editPetForm.photo.$invalid"
                                      class="text-danger fst-italic">
                                    Vui lòng chọn ảnh.
                                </span>
                            </div>
                            <div class="text-center" ng-if="selectedPet.photo">
                                <img height="300px" width="300px"
                                     ng-src="/images/pet/{{ selectedPet.photo }}"
                                     alt="{{ selectedPet.photo }}"
                                     class="img-thumbnail">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button ng-disabled="editPetForm.petID.$invalid" type="button" class="btn btn-danger"
                        ng-click="deletePet(selectedPet.petID)"><span>Xóa</span> <i
                        class="fa-solid fa-trash"></i></button>
                <button type="button" class="btn btn-primary"
                        ng-click="updatePet(selectedPet.petID)"
                        ng-disabled="editPetForm.$invalid || editPetForm.$pristine">
                    <span>Lưu thay đổi</span> <i class="fa-solid fa-floppy-disk"></i>
                </button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
            </div>
        </div>
    </div>
</div>
